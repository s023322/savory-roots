import{t as R,a as D}from"../chunks/CYoz0CFR.js";import{i as mt}from"../chunks/2ZJDLcXJ.js";import{p as K,x as $,y as v,d as ot,f as nt,c as a,t as M,a as Q,z as t,s as n,u as ft,r as e,a0 as ut,ar as xt,T as Z,Y as pt}from"../chunks/BH-x3xJj.js";import{l as gt,w as ht,d as U,s as k}from"../chunks/Dc8CBiT0.js";import{i as tt,s as _t,a as bt,p as L}from"../chunks/qqA6fhLo.js";import"../chunks/BJBH5m3E.js";import{p as st}from"../chunks/BD6nQhah.js";import{i as A,c as B,e as et,G as H,a as ct,b as at,s as Y,d as wt,f as kt,N as yt}from"../chunks/DvnJObH8.js";import{b as St}from"../chunks/C0r3UhqY.js";const It=!0;function jt(u,r){gt(window,["resize"],()=>ht(()=>r(window[u])))}const zt=It;function Ct(u,r,l){v(r,!t(r)),t(r)?v(l,"close"):v(l,"shopping_cart")}var Dt=(u,r,l,d)=>{r(t(l)),d()},Rt=R('<button class="w-full flex flex-row justify-between   text-black hover:text-amber-300 cursor-pointer transition-colors duration-200  active:animate-delete"><div class="flex items-center space-x-2"><h1 class="font-icons">close</h1> <h1> </h1></div> <h1> </h1></button>'),Ot=R('<div class="mt-4 text-gray-300 border-2 rounded-full w-min hover:border-white"><a class="flex flex-row w-min   space-x-4 items-center   group   bg-white hover:bg-black rounded-full pl-2   border-2 text-white hover:text-black" href="/checkout/"><h1 class="text-black group-hover:text-white text-nowrap">Checkout</h1> <!></a></div>'),Tt=R('<div><div class="flex flex-col justify-center p-4 rounded-3xl w-full   text-gray-300 bg-white border-2"><h1 class="font-display text-black text-xl">Cart</h1> <div class="flex flex-col p-2   text-black"><!> <div class="w-full h-0.5 my-2 bg-amber-800"></div> <div class="flex flex-row   justify-between -mb-2"><h1>Total</h1> <h1> </h1></div></div> <!></div></div> <div class="fixed z-60 top-0 w-full left-0  flex lg:hidden pointer-events-none"><div class="flex justify-end float-right ml-auto mr-8 py-4"><button class="relative flex pointer-events-auto"><h1 class="relative left-9 bottom-1.5 px-[5px] py-[1px] pointer-events-none h-min   bg-black text-white rounded-full text-xs"> </h1> <!></button></div></div>',1);function Vt(u,r){K(r,!0);const[l,d]=_t(),y=()=>bt(A,"$itemCount",l);let i=$(void 0),p=$(void 0),f=$(0),I=$(!1),x=$("shopping_cart"),m=$(0);A.subscribe(o=>{v(m,o,!0),localStorage.setItem("itemCount",o.toString())}),B.subscribe(o=>{v(i,o,!0),localStorage.setItem("cartItems",JSON.stringify(o))});function g(){if(v(f,0),t(i).items)for(let o=0;o<t(i).items.length;o++)v(f,t(f)+t(i).items[o].price);localStorage.setItem("cartTotal",t(f).toString()),ct.set(t(f))}ot(()=>{ft(()=>{g()}),j(t(i))});function j(o){v(p,t(i).items,!0)}function O(o){A.set(t(i).items.length-1),A.set(Math.max(0,y())),t(i).items.splice(t(i).items.indexOf(o),1),t(i).items=t(i).items.sort((b,w)=>b.name>w.name?1:b.name<w.name?-1:0),localStorage.setItem("cartItems",JSON.stringify(t(i))),B.set(t(i))}var s=Tt(),c=nt(s),h=a(c),_=n(a(h),2),T=a(_);et(T,17,()=>t(p),at,(o,b)=>{var w=Rt();w.__mousedown=[Dt,O,b,g];var G=a(w),rt=n(a(G),2),dt=a(rt,!0);e(rt),e(G);var it=n(G,2),vt=a(it);e(it),e(w),M(()=>{k(dt,t(b).name),k(vt,`$${t(b).price??""}`)}),D(o,w)});var V=n(T,4),P=n(a(V),2),J=a(P);e(P),e(V),e(_);var q=n(_,2);{var z=o=>{var b=Ot(),w=a(b),G=n(a(w),2);H(G,{element:"div",text:"arrow_outward",title:"Order",font:"icons",href:"/checkout/"}),e(w),e(b),D(o,b)};tt(q,o=>{t(m)>0&&o(z)})}e(h),e(c);var S=n(c,2),W=a(S),C=a(W);C.__click=[Ct,I,x];var N=a(C),E=a(N,!0);e(N);var X=n(N,2);H(X,{font:"icons",get text(){return t(x)},element:"h1",href:""}),e(C),e(W),e(S),M(()=>{Y(c,1,`lg:w-64 lg:h-fit  transition-all duration-50 overflow-hidden lg:relative lg:top-0 lg:flex    max-lg:left-1/2 max-lg:-translate-x-1/2 max-lg:absolute max-lg:block   ${!t(I)&&"max-lg:w-0 max-lg:max-w-0 max-lg:h-0 max-lg:top-24"} ${t(I)&&"max-lg:block max-lg:h-fit max-lg:top-24 max-lg:px-8 max-lg:min-w-full max-lg:max-w-7xl"}`),k(J,`$${t(f)??""}`),k(E,t(m))}),D(u,s);var F=Q({updateTotal:g});return d(),F}U(["mousedown","click"]);var Mt=(u,r,l)=>r(t(l)),Nt=R('<div class="flex   w-40 sm:w-64 h-64 sm:h-64 rounded-3xl p-2 m-0   text-gray-300 border-2"><div class="w-full h-full bg-[url(https://images.pexels.com/photos/955137/pexels-photo-955137.jpeg)] bg-cover bg-center   rounded-2xl   overflow-hidden"><div class="flex float-left w-fit h-fit bg-white rounded-b-2xl   items-center"><button class="flex w-fit h-fit"><!></button> <h1 class="text-amber-800 text-md/[0.5]   ml-2 mb-1 mr-3"> </h1></div> <div class="relative w-full h-1/2 top-1/2 p-2 float-left   bg-white/[0.75] backdrop-blur-sm"><h1 class="text-black font-display text-md text-nowrap sm:text-xl text-left"> </h1> <h1 class="text-black text-lg/[1] text-left"> </h1></div></div></div>'),$t=R('<div class="flex justify-center flex-row   lg:space-x-8"><div class="flex justify-center"><div class="grid max-sm:grid-cols-1 max-md:grid-cols-2 w-fit max-w-7xl   gap-8"></div></div> <div class="items-top"><!></div></div>');function Pt(u,r){K(r,!0);let l=$(void 0),d,y;B.subscribe(s=>{d=s,localStorage.setItem("cartItems",JSON.stringify(s))});let i=$(ut(Math.min(window.innerWidth,1280)||800)),p=xt(()=>Math.max(Math.min(Math.floor((t(i)-32)/384),3),2));ot(()=>{f(r.page)});function f(s){switch(s){case 0:v(l,r.data.appetizers,!0);break;case 1:v(l,r.data.meals,!0);break;case 2:v(l,r.data.drinks,!0);break;case 3:v(l,r.data.desserts,!0);break}}function I(s){d.items||(d={items:[]}),d.items.push(s),A.set(d.items.length),B.set(d),localStorage.setItem("cartItems",JSON.stringify(d)),y.updateTotal()}var x=$t(),m=a(x),g=a(m);et(g,21,()=>t(l),at,(s,c)=>{var h=Nt(),_=a(h),T=a(_),V=a(T);V.__click=[Mt,I,c];var P=a(V);H(P,{text:"add",font:"icons",element:"div",href:""}),e(V);var J=n(V,2),q=a(J);e(J),e(T);var z=n(T,2),S=a(z),W=a(S,!0);e(S);var C=n(S,2),N=a(C,!0);e(C),e(z),e(_),e(h),M(()=>{k(q,`$${t(c).price??""}`),k(W,t(c).name),k(N,t(c).description)}),D(s,h)}),e(g),e(m);var j=n(m,2),O=a(j);St(Vt(O,{}),s=>y=s,()=>y),e(j),e(x),M(()=>wt(g,`grid-template-columns: repeat(${t(p)??""}, minmax(0, 1fr));`)),jt("innerWidth",s=>v(i,s,!0)),D(u,x),Q()}U(["click"]);var Jt=R("<div><h1> </h1></div>"),Wt=R('<button class="active:animate-button flex relative w-min h-min"><!></button>'),Gt=R("<div></div>");function lt(u,r){K(r,!0);let l=L(r,"font",3,"Lato"),d=L(r,"pad",3,"4"),y=L(r,"space",3,"4"),i=L(r,"tstate",15,0);var p=Gt();et(p,21,()=>r.text,at,(f,I,x)=>{var m=Wt();m.__click=()=>i(x);var g=a(m);{var j=s=>{H(s,{href:"",element:"div",get font(){return l()},get text(){return t(I)},get padding(){return d()}})},O=s=>{var c=Jt(),h=a(c),_=a(h,!0);e(h),e(c),M(()=>{Y(c,1,`px-${d()??""} py-1   transition duration-200 bg-linear-to-tl from-amber-300 to-amber-800 rounded-full cursor-pointer select-none`),Y(h,1,`font-${l()??""} text-white`),k(_,t(I))}),D(s,c)};tt(g,s=>{i()!=x?s(j):s(O,!1)})}e(m),M(()=>kt(m,"title",r.titles[x])),D(f,m)}),e(p),M(()=>Y(p,1,`relative flex flex-row justify-center space-x-4 sm:space-x-${y()??""} p-2   text-gray-300 border-2 rounded-full   w-fit max-sm:max-w-dvw overflow-x-scroll`)),D(u,p),Q()}U(["click"]);const At=[{name:"Spring Rolls",description:"Vegetarian spring rolls",price:15},{name:"Spring Rolls",description:"Vegetarian spring rolls",price:14},{name:"Spring Rolls",description:"Vegetarian spring rolls",price:13},{name:"Spring Rolls",description:"Vegetarian spring rolls",price:12}],qt=[{name:"Spring Rolls",description:"Vegetarian spring rolls",price:10},{name:"Spring Rolls",description:"Vegetarian spring rolls",price:9},{name:"Spring Rolls",description:"Vegetarian spring rolls",price:8},{name:"Spring Rolls",description:"Vegetarian spring rolls",price:7}],Bt={appetizers:At,meals:qt};var Et=(u,r)=>{v(r,!t(r))},Ft=R('<button class="fixed left-0 top-32 w-full h-fit flex justify-center z-100 cursor-pointer"><div class="backdrop-blur-sm bg-white/[0.9] w-fit h-fit px-4 py-2 border-2 text-gray-300 rounded-lg space-y-4"><h1 class="font-display text-2xl text-black"> <span class="relative top-1 font-icons"> </span></h1> <h1 class="text-lg text-black font-lato mb-2"> </h1></div></button>'),Lt=R('<div class="z-50 fixed"><!></div> <!> <div class="font-lato"><div class="z-0 flex flex-col md:flex-row justify-center space-x-8"><div class="inline relative max-md:mx-auto mt-24 mb-0   w-fit h-fit"><!></div> <div class="block max-md:mx-auto md:inline relative mt-8 md:mt-24 w-fit h-fit"><!></div></div> <div class="w-full justify-center flex mt-8"><h1 class="font-display text-2xl  text-center"> </h1></div> <div class="flex justify-center flex-row   space-x-8"><div class="flex justify-center pt-8"><!></div></div></div>',1);function ae(u,r){K(r,!1);let l=Z(0),d=["Appetizers","Meals","Drinks","Dessert"],y=Z(st.url.searchParams.has("status")),i=Z("");t(y)&&(v(i,st.url.searchParams.get("status")),t(i).includes("complete")&&zt&&(localStorage.setItem("cartItems",'{"items":[]}'),B.set({items:[]}),localStorage.setItem("itemCount","0"),A.set(0),localStorage.setItem("cartTotal","0"),ct.set(0))),mt();var p=Lt(),f=nt(p),I=a(f);yt(I,{}),e(f);var x=n(f,2);{var m=z=>{var S=Ft();S.__click=[Et,y];var W=a(S),C=a(W),N=a(C),E=n(N),X=a(E,!0);e(E),e(C);var F=n(C,2),o=a(F,!0);e(F),e(W),e(S),M((b,w,G)=>{k(N,`Order ${b??""} `),k(X,w),k(o,G)},[()=>t(i).includes("complete")?"Complete":"Failed",()=>t(i).includes("complete")?"check":"close",()=>t(i).includes("complete")?"Thank you!":"Sorry, we couldn't complete your order"],pt),D(z,S)};tt(x,z=>{t(y)&&z(m)})}var g=n(x,2),j=a(g),O=a(j),s=a(O);lt(s,{titles:["Pickup","Delivery"],text:["Pickup","Delivery"]}),e(O);var c=n(O,2),h=a(c);lt(h,{font:"icons",pad:"[9px]",space:"4",titles:["Appetizers","Meals","Drinks","Dessert"],text:["rice_bowl","ramen_dining","local_bar","icecream"],get tstate(){return t(l)},set tstate(z){v(l,z)},$$legacy:!0}),e(c),e(j);var _=n(j,2),T=a(_),V=a(T,!0);e(T),e(_);var P=n(_,2),J=a(P),q=a(J);Pt(q,{data:Bt,get page(){return t(l)}}),e(J),e(P),e(g),M(()=>k(V,d[t(l)])),D(u,p),Q()}U(["click"]);export{ae as component};
